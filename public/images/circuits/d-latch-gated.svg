<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 300">
  <defs>
    <style>
      .wire { fill: none; stroke: #334155; stroke-width: 2.5; stroke-linecap: round; stroke-linejoin: round; }
      .gate-body { fill: #fff; stroke: #334155; stroke-width: 2.5; }
      .text { font-family: sans-serif; font-weight: bold; fill: #1e293b; font-size: 16px; }
      .label { font-family: sans-serif; fill: #64748b; font-size: 14px; }
      .dot { fill: #334155; }
    </style>
  </defs>

  <!-- === STEERING CIRCUIT (AND Gates + NOT) === -->

  <!-- Top AND Gate (Feeds R) -->
  <g transform="translate(150, 70)">
    <!-- AND Shape -->
    <path class="gate-body" d="M0,0 L20,0 A25,25 0 0 1 20,50 L0,50 Z" />
    <!-- Inputs -->
    <line class="wire" x1="-40" y1="12" x2="0" y2="12" /> <!-- D Input -->
    <line class="wire" x1="-40" y1="38" x2="0" y2="38" /> <!-- En Input -->
    <!-- Output -->
    <line class="wire" x1="45" y1="25" x2="80" y2="25" />
    <text x="50" y="20" class="label">S</text>
  </g>

  <!-- Bottom AND Gate (Feeds S) -->
  <g transform="translate(150, 180)">
    <!-- AND Shape -->
    <path class="gate-body" d="M0,0 L20,0 A25,25 0 0 1 20,50 L0,50 Z" />
    <!-- Inputs -->
    <line class="wire" x1="-40" y1="12" x2="0" y2="12" /> <!-- D' Input -->
    <line class="wire" x1="-40" y1="38" x2="0" y2="38" /> <!-- En Input -->
    <!-- Output -->
    <line class="wire" x1="45" y1="25" x2="80" y2="25" />
    <text x="50" y="20" class="label">R</text>
  </g>

  <!-- Inverter for D -->
  <g transform="translate(60, 130)">
   <!-- NOT Shape -->
    <path class="gate-body" d="M0,0 L30,15 L0,30 Z" />
    <circle class="gate-body" cx="34" cy="15" r="4" />
    
    <!-- Input coming from D split -->
    <line class="wire" x1="-20" y1="15" x2="0" y2="15" />
  </g>

  <!-- WIRING -->
  
  <!-- Data D Wiring -->
  <text x="0" y="86" class="text">D</text>
  <line class="wire" x1="20" y1="82" x2="110" y2="82" /> <!-- To Top AND -->
  <line class="wire" x1="40" y1="82" x2="40" y2="145" /> <!-- Down to Inverter -->
  <circle class="dot" cx="40" cy="82" r="3" />
  
  <!-- Inverter Output to Bottom AND -->
  <line class="wire" x1="98" y1="145" x2="110" y2="192" /> 

  <!-- Enable Wiring -->
  <text x="0" y="230" class="text">En</text>
  <line class="wire" x1="30" y1="225" x2="90" y2="225" /> 
  <line class="wire" x1="90" y1="225" x2="90" y2="108" /> <!-- Vertical Bus -->
  <line class="wire" x1="90" y1="108" x2="110" y2="108" /> <!-- To Top AND input 2 -->
  <line class="wire" x1="90" y1="218" x2="110" y2="218" /> <!-- To Bottom AND input 2 -->
  <circle class="dot" cx="90" cy="218" r="3" />

  <!-- === SR LATCH (NOR VERSION) === -->
  
  <g transform="translate(300, 0)">
      <!-- Top NOR Gate -->
      <g transform="translate(100, 70)">
        <path class="gate-body" d="M0,0 M0,0 c20,0 30,10 40,25 c-10,15 -20,25 -40,25 a 30,50 0 0 1 0,-50" />
        <circle class="gate-body" cx="54" cy="25" r="4" />
        
        <!-- Input S from AND -->
        <line class="wire" x1="-70" y1="10" x2="2" y2="10" /> 
        <!-- Feedback Input -->
        <line class="wire" x1="-30" y1="40" x2="2" y2="40" />
        
        <!-- Output Q -->
        <line class="wire" x1="58" y1="25" x2="150" y2="25" />
        <text x="160" y="30" class="text">Q</text>
      </g>
    
      <!-- Bottom NOR Gate -->
      <g transform="translate(100, 180)">
        <path class="gate-body" d="M0,0 M0,0 c20,0 30,10 40,25 c-10,15 -20,25 -40,25 a 30,50 0 0 1 0,-50" />
        <circle class="gate-body" cx="54" cy="25" r="4" />

        <!-- Input R from AND -->
        <line class="wire" x1="-70" y1="40" x2="2" y2="40" /> 
        <!-- Feedback Input -->
        <line class="wire" x1="-30" y1="10" x2="2" y2="10" />

        <!-- Output Q' -->
        <line class="wire" x1="58" y1="25" x2="150" y2="25" />
        <text x="160" y="30" class="text">Q'</text>
      </g>

      <!-- Feedback Cross -->
      <line class="wire" x1="130" y1="95" x2="130" y2="140" />
      <line class="wire" x1="130" y1="140" x2="70" y2="190" />
      <circle class="dot" cx="130" cy="95" r="3" />

      <line class="wire" x1="130" y1="205" x2="130" y2="160" />
      <line class="wire" x1="130" y1="160" x2="70" y2="110" />
      <circle class="dot" cx="130" cy="205" r="3" />
  </g>

</svg>
