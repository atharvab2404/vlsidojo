<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 300">
  <defs>
    <style>
      .wire { fill: none; stroke: #334155; stroke-width: 2.5; stroke-linecap: round; stroke-linejoin: round; }
      .gate-body { fill: #fff; stroke: #334155; stroke-width: 2.5; }
      .text { font-family: sans-serif; font-weight: bold; fill: #1e293b; font-size: 16px; }
      .dot { fill: #334155; }
    </style>
  </defs>

  <!-- Top NOR Gate (Reset Path) at (250, 80) -->
  <g transform="translate(250, 80)">
    <path class="gate-body" d="M0,0 M0,0 c20,0 30,10 40,25 c-10,15 -20,25 -40,25 a 30,50 0 0 1 0,-50" />
    <path class="gate-body" d="M0,0 M40,25 l10,0" /> 
    <circle class="gate-body" cx="54" cy="25" r="4" />
    
    <!-- Input 1: External R -->
    <line class="wire" x1="-80" y1="10" x2="2" y2="10" /> 
    <text x="-95" y="15" class="text">R</text>

    <!-- Input 2: Feedback Stub -->
    <line class="wire" x1="-30" y1="40" x2="2" y2="40" />

    <!-- Output -->
    <line class="wire" x1="58" y1="25" x2="160" y2="25" />
    <text x="170" y="30" class="text">Q</text>
  </g>

  <!-- Bottom NOR Gate (Set Path) at (250, 180) -->
  <g transform="translate(250, 180)">
    <path class="gate-body" d="M0,0 M0,0 c20,0 30,10 40,25 c-10,15 -20,25 -40,25 a 30,50 0 0 1 0,-50" />
    <circle class="gate-body" cx="54" cy="25" r="4" />

    <!-- Input 1: Feedback Stub -->
    <line class="wire" x1="-30" y1="10" x2="2" y2="10" />

    <!-- Input 2: External S -->
    <line class="wire" x1="-80" y1="40" x2="2" y2="40" /> 
    <text x="-95" y="45" class="text">S</text>

    <!-- Output -->
    <line class="wire" x1="58" y1="25" x2="160" y2="25" />
    <text x="170" y="30" class="text">Q'</text>
  </g>

  <!-- Feedback Loops -->
  <!-- Top Q (360, 105) to Bottom Input 1 (250-30=220, 180+10=190) -->
  <line class="wire" x1="360" y1="105" x2="360" y2="145" /> 
  <line class="wire" x1="360" y1="145" x2="220" y2="190" /> <!-- Diagonal -->
  <line class="wire" x1="220" y1="190" x2="252" y2="190" /> <!-- Connect to stub -->

  <!-- Bottom Q' (360, 205) to Top Input 2 (250-30=220, 80+40=120) -->
  <line class="wire" x1="360" y1="205" x2="360" y2="155" /> 
  <line class="wire" x1="360" y1="155" x2="220" y2="120" /> <!-- Diagonal -->
  <line class="wire" x1="220" y1="120" x2="252" y2="120" /> <!-- Connect to stub -->
  
  <circle class="dot" cx="360" cy="105" r="3" />
  <circle class="dot" cx="360" cy="205" r="3" />

</svg>
